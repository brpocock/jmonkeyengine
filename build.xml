<project name="jME" default="compile" basedir="." >
    <description>
        Ant Build File for the jME project.
    </description>

  <property name="seg"      location="."/>

  <property name="src"      location="${seg}/src"/>
  <property name="class"    location="${seg}/build"/>
  <property name="data"     location="${seg}/data"/>
  <property name="doc"     location="${data}/doc"/>

  <target name="init">
    <tstamp/>
    <mkdir dir="${src}"/>
    <mkdir dir="${class}"/>
    <mkdir dir="${data}"/>
    <mkdir dir="${doc}"/>
  </target>

  <target name="compile" depends="init" description="generate jme classes">
    <mkdir dir="${class}"/>
    <mkdir dir="${class}/com"/>
    <copy todir="${class}/com">
        <fileset dir="${src}/com">
            <exclude name="**/*.java" />
        </fileset>
    </copy>
    <javac srcdir="${src}/com" destdir="${class}" classpath="${seg}/lib/lwjgl.jar:${seg}/lib/jl030.jar" listfiles="no"/>
  </target>
<!-- ************************************************************************* -->

  <target name="dist" depends="compile" description="generate jme package" >
    <jar jarfile="${seg}/target/jme.jar"  basedir="${class}" update="no" compress="false"/>
  </target>

  <target name="webdist" depends="compile" description="sign JARs for JNLP distribution" >
    <signjar jar="${seg}/target/jme.jar"
      alias="jme"
      keystore="${seg}/jnlp/jmeKeyStore"
      storepass="..."
    />
  </target>

<!-- java doc ************************************************************************* -->
  <target name="doc" depends="compile" description="generate the doc">
     <javadoc destdir="${doc}" author="true" version="true" use="true" package="yes" windowtitle="jME API">
       <fileset dir="${src}/com">
         <include name="**/*.java" />
       </fileset>
    </javadoc>
  </target>

  <target name="clean" description="clean up" >
     <delete dir="${class}"/>
     <delete dir="${doc}"/>
     <delete>
        <fileset dir="${src}" includes="**/*.class"/>
     </delete>
  </target>

  <target name="rebuild" depends="clean" description="build from clean" >
     <ant/>
  </target>
</project>