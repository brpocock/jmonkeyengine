


<h1><a name="audio_in_jme3" id="audio_in_jme3">Audio in jME3</a></h1>
<div class="level1">

<p>

There are two ways to handle audio data: Short audio files are to be stored entirely in memory, while long audio files (music) is streamed from the hard drive as it is played.
</p>

<p>
Place audio files in the <code>assets/Sound/</code> directory of your project. jME3 supports Ogg Vorbis (.ogg) and Wave (.wav) formats.
</p>

</div>
<!-- SECTION "Audio in jME3" [1-334] -->
<h2><a name="creating_audio_nodes" id="creating_audio_nodes">Creating Audio Nodes</a></h2>
<div class="level2">

<p>

The main class to look at is <code>com.jme3.audio.AudioNode</code>.
</p>

<p>
By default, a new audio node loads the whole file into memory:

</p>
<pre class="code java">AudioNode boom <span class="sy0">=</span> <span class="kw1">new</span> AudioNode<span class="br0">&#40;</span>assetManager, <span class="st0">&quot;Sound/boom.wav&quot;</span><span class="br0">&#41;</span>;</pre>
<p>
If it is a long file, you set the boolean to true to stream the audio.

</p>
<pre class="code java">AudioNode music <span class="sy0">=</span> <span class="kw1">new</span> AudioNode<span class="br0">&#40;</span>assetManager, <span class="st0">&quot;Sound/music.wav&quot;</span>, <span class="kw2">true</span><span class="br0">&#41;</span>;</pre>
</div>
<!-- SECTION "Creating Audio Nodes" [335-736] -->
<h2><a name="setting_audionode_properties" id="setting_audionode_properties">Setting AudioNode Properties</a></h2>
<div class="level2">
<table class="inline">
	<tr class="row0">
		<th class="col0">AudioNode method</th><th class="col1">Usage</th>
	</tr>
	<tr class="row1">
		<td class="col0">getStatus()</td><td class="col1">Returns either Status.Playing, Status.Stopped, or Status.Paused.</td>
	</tr>
	<tr class="row2">
		<td class="col0">setVolume(5)</td><td class="col1">Set the volume between 0 (mute) and 10 (loud).</td>
	</tr>
	<tr class="row3">
		<td class="col0">setPitch(1)</td><td class="col1">Make the sound play higher or lower.</td>
	</tr>
	<tr class="row4">
		<td class="col0">setLooping(false)</td><td class="col1">Play it once and stop.</td>
	</tr>
	<tr class="row5">
		<td class="col0">setLooping(true)</td><td class="col1">Play it over and over again from the beginning, until stopSource() or pauseSource() is called. E.g. for background noises.</td>
	</tr>
	<tr class="row6">
		<td class="col0">setPositional(true) <br/>
 setLocalTranslation()</td><td class="col1">Activates 3D audio, the sound appears to come from a certain position. Good for Players or NPCs.</td>
	</tr>
	<tr class="row7">
		<td class="col0">setReverbEnabled(true)</td><td class="col1">A 3D echo effect that only makes sense to use with moving positional AudioNodes.</td>
	</tr>
	<tr class="row8">
		<td class="col0">setDirectional(true) <br/>
 setDirection() </td><td class="col1">Activates 3D audio, sound can only be heard from a certain direction. Good for noises that should not be heard through a wall.</td>
	</tr>
	<tr class="row9">
		<td class="col0">setInnerAngle() <br/>
 setOuterAngle()</td><td class="col1">?</td>
	</tr>
	<tr class="row10">
		<td class="col0">setPositional(false) <br/>
 setDirectional(false)</td><td class="col1">The sound comes from a everywhere. Good for environmental background sounds and music.</td>
	</tr>
	<tr class="row11">
		<td class="col0">setLocalTranslation()</td><td class="col1">Position the AudioNode in the 3D scene if you have set setPositional() to true.</td>
	</tr>
	<tr class="row12">
		<td class="col0">setTimeOffset(0.5f)</td><td class="col1">Start playing after a pause?</td>
	</tr>
	<tr class="row13">
		<td class="col0">setMaxDistance(100f)</td><td class="col1">Maximum distance the sound can be heard, in world units.</td>
	</tr>
</table>

</div>
<!-- SECTION "Setting AudioNode Properties" [737-2009] -->
<h2><a name="playing_audio_nodes" id="playing_audio_nodes">Playing Audio Nodes</a></h2>
<div class="level2">

<p>

For playing you use the <code>com.jme3.audio.AudioRenderer</code>. A default <code>audioRenderer</code> object is provided by the com.jme3.app.Application class.
</p>
<pre class="code java">audioRenderer.<span class="me1">playSource</span><span class="br0">&#40;</span> myAudioNode <span class="br0">&#41;</span>;</pre>
<p>
<strong>Note:</strong> Whether the AudioNode plays continuously or only once, depends on the Loop properties you have set.
</p>

<p>
You pause and stop music with the following methods:
</p>
<pre class="code java">audioRenderer.<span class="me1">pauseSource</span><span class="br0">&#40;</span> myAudioNode <span class="br0">&#41;</span>;</pre><pre class="code java">audioRenderer.<span class="me1">stopSource</span><span class="br0">&#40;</span> myAudioNode <span class="br0">&#41;</span>;</pre>
</div>
<!-- SECTION "Playing Audio Nodes" [2010-2532] -->
<h2><a name="setting_environment_properties" id="setting_environment_properties">Setting Environment Properties</a></h2>
<div class="level2">

<p>

You can choose from the following environmental presets from <code>com.jme3.audio.Environment</code>.

</p>
<table class="inline">
	<tr class="row0">
		<th class="col0">Environment</th><th class="col1">density</th><th class="col2">diffusion</th><th class="col3">gain</th><th class="col4">gainHf</th><th class="col5">decayTime</th><th class="col6">decayHf</th><th class="col7">reflGain</th><th class="col8">reflDelay</th><th class="col9">lateGain</th><th class="col10">lateDelay</th>
	</tr>
	<tr class="row1">
		<td class="col0 leftalign">Garage      </td><td class="col1">1.00f</td><td class="col2">1.0f</td><td class="col3">1.0f</td><td class="col4">1.00f</td><td class="col5">0.90f</td><td class="col6">0.5f</td><td class="col7">0.751f</td><td class="col8">0.0039f</td><td class="col9">0.661f</td><td class="col10">0.0137f</td>
	</tr>
	<tr class="row2">
		<td class="col0 leftalign">Dungeon     </td><td class="col1">0.75f</td><td class="col2">1.0f</td><td class="col3">1.0f</td><td class="col4">0.75f</td><td class="col5">1.60f</td><td class="col6">1.0f</td><td class="col7">0.950f</td><td class="col8">0.0026f</td><td class="col9">0.930f</td><td class="col10">0.0103f</td>
	</tr>
	<tr class="row3">
		<td class="col0 leftalign">Cavern      </td><td class="col1">0.50f</td><td class="col2">1.0f</td><td class="col3">1.0f</td><td class="col4">0.50f</td><td class="col5">2.25f</td><td class="col6">1.0f</td><td class="col7">0.908f</td><td class="col8">0.0103f</td><td class="col9">0.930f</td><td class="col10">0.0410f</td>
	</tr>
	<tr class="row4">
		<td class="col0">AcousticLab </td><td class="col1">0.50f</td><td class="col2">1.0f</td><td class="col3">1.0f</td><td class="col4">1.00f</td><td class="col5">0.28f</td><td class="col6">1.0f</td><td class="col7">0.870f</td><td class="col8">0.0020f</td><td class="col9">0.810f</td><td class="col10">0.0080f</td>
	</tr>
	<tr class="row5">
		<td class="col0 leftalign">Closet      </td><td class="col1">1.00f</td><td class="col2">1.0f</td><td class="col3">1.0f</td><td class="col4">1.00f</td><td class="col5">0.15f</td><td class="col6">1.0f</td><td class="col7">0.600f</td><td class="col8">0.0025f</td><td class="col9">0.500f</td><td class="col10">0.0006f</td>
	</tr>
</table>

<p>

Activate the preset with: 
</p>
<pre class="code java">audioRenderer.<span class="me1">setEnvironment</span><span class="br0">&#40;</span><span class="kw1">new</span> <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Aenvironment+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object>.<span class="me1">Dungeon</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;</pre>
<p>
Alternatively you can create a <code>com.​jme3.​audio.Environment</code> object to specify custom environment factors. Activate your custom environment settings in the Environment constructor: 
</p>
<pre class="code java">audioRenderer.<span class="me1">setEnvironment</span><span class="br0">&#40;</span>
        <span class="kw1">new</span> <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Aenvironment+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#40;</span> density, diffusion, gain, gainHf, decayTime, decayHf, 
                reflGain, reflDelay, lateGain, lateDelay <span class="br0">&#41;</span> <span class="br0">&#41;</span>;</pre>
</div>
<!-- SECTION "Setting Environment Properties" [2533-] -->
<p><em><a href="http://jmonkeyengine.org/wiki/doku.php/jme3:advanced:audio?do=export_xhtmlbody">view online version</a></em></p>