
<h1><a name="how_to_use_material_definitions_.j3md" id="how_to_use_material_definitions_.j3md">How to Use Material Definitions (.j3md)</a></h1>
<div class="level1">

<p>

Typically, you create a set of custom materials, and use them throughout the game. For example, you can initialize and configure your materials objects in the <code>initSimpleApp()</code> method, and then load 3D models (Geometries) and use setMaterial() on them. 
</p>

<p>
<strong>Tip:</strong> If you use one custom material very often, additionally read about storing material configurations in user-friendly <a href="/com/jme3/gde/core/docs/jme3/advanced/j3m_material_files.html" class="wikilink1" title="jme3:advanced:j3m_material_files">j3m Material Files</a>.
</p>

</div>

<h2><a name="preparing_a_material" id="preparing_a_material">Preparing a Material</a></h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> Choose a Material Definition from the <a href="/com/jme3/gde/core/docs/jme3/advanced/materials_overview.html" class="wikilink1" title="jme3:advanced:materials_overview">Materials Overview</a> list that has the features that you need. </div>
<ul>
<li class="level2"><div class="li"> Tip: If you don&#039;t know, you can always start with <code>Unshaded.j3md</code>.</div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Look at the applicable parameters of the Material Definition and determine which ones you need to achieve the desired effect. Most parameters are optional.</div>
<ol>
<li class="level2"><div class="li"> Create and save the necessary Texture files to the assets directory.</div>
<ul>
<li class="level3"><div class="li"> E.g. ColorMap; DiffuseMap, NormalMap, AlphaMap, etc…</div>
</li>
</ul>
</li>
<li class="level2"><div class="li"> Determine the required values to achieve the effect that you want.</div>
<ul>
<li class="level3"><div class="li"> E.g. Colors, floats, booleans, etc… </div>
</li>
</ul>
</li>
</ol>
</li>
</ol>

</div>

<h2><a name="using_a_material" id="using_a_material">Using a Material</a></h2>
<div class="level2">
<ol>
<li class="level1"><div class="li"> In you Java code, create a Material object based on the .j3md file: e.g. <pre class="code java">Material mat <span class="sy0">=</span> <span class="kw1">new</span> Material<span class="br0">&#40;</span>assetManager, <span class="st0">&quot;Common/MatDefs/Misc/Unshaded.j3md&quot;</span><span class="br0">&#41;</span>;</pre></div>
</li>
<li class="level1"><div class="li"> Configure your Material by setting the appropriate values listed in the <a href="/com/jme3/gde/core/docs/jme3/advanced/materials_overview.html" class="wikilink1" title="jme3:advanced:materials_overview">Materials Overview</a> table. Here are examples of the methods that set the different data types:</div>
<ul>
<li class="level2"><div class="li"> <code>mat.setColor(   “Color”,       ColorRGBA.White );</code></div>
</li>
<li class="level2"><div class="li"> <code>mat.setTexture( “ColorMap”,    assetManager.loadTexture(“Interface/Logo/Monkey.png” ));</code></div>
</li>
<li class="level2"><div class="li"> <code>mat.setFloat(   “Shininess”,   5f);</code></div>
</li>
<li class="level2"><div class="li"> <code>mat.setBoolean( “SphereMap”,   true);</code></div>
</li>
<li class="level2"><div class="li"> <code>mat.setVector3( “NormalScale”, new Vector3f(1f,1f,1f));</code></div>
</li>
</ul>
</li>
<li class="level1"><div class="li"> Use your prepared material on a Geometry: <pre class="code java">myGeometry.<span class="me1">setMaterial</span><span class="br0">&#40;</span>mat<span class="br0">&#41;</span>;</pre></div>
</li>
<li class="level1"><div class="li"> (Optional) Adjust the texture scale: <pre class="code java">geometry.<span class="me1">scaleTextureCoordinates</span><span class="br0">&#40;</span><span class="kw1">new</span> Vector2f<span class="br0">&#40;</span>1f, .5f<span class="br0">&#41;</span><span class="br0">&#41;</span>;</pre></div>
</li>
</ol>

</div>

<h2><a name="examples" id="examples">Examples</a></h2>
<div class="level2">

<p>

A simpled textured material.

</p>
<pre class="code java">Material mat <span class="sy0">=</span> <span class="kw1">new</span> Material<span class="br0">&#40;</span>assetManager, 
    <span class="st0">&quot;Common/MatDefs/Misc/Unshaded.j3md&quot;</span><span class="br0">&#41;</span>;
mat.<span class="me1">setTexture</span><span class="br0">&#40;</span><span class="st0">&quot;ColorMap&quot;</span>, assetManager.<span class="me1">loadTexture</span><span class="br0">&#40;</span>
    <span class="st0">&quot;Interface/Logo/Monkey.jpg&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;</pre>
<p>
A textured material with a color bleeding through transparent areas.

</p>
<pre class="code java">Material mat <span class="sy0">=</span> <span class="kw1">new</span> Material<span class="br0">&#40;</span>assetManager, 
    <span class="st0">&quot;Common/MatDefs/Misc/Unshaded.j3md&quot;</span><span class="br0">&#41;</span>;
mat.<span class="me1">setTexture</span><span class="br0">&#40;</span><span class="st0">&quot;ColorMap&quot;</span>, assetManager.<span class="me1">loadTexture</span><span class="br0">&#40;</span>
    <span class="st0">&quot;Textures/ColoredTex/Monkey.png&quot;</span><span class="br0">&#41;</span><span class="br0">&#41;</span>;
mat.<span class="me1">setColor</span><span class="br0">&#40;</span><span class="st0">&quot;Color&quot;</span>, ColorRGBA.<span class="me1">Blue</span><span class="br0">&#41;</span>;</pre>
<p>
You can test these examples within the following code snippet. It creates a box and applies the material:
</p>
<pre class="code java"> <object classid="java:org.netbeans.modules.javahelp.BrowserDisplayer"><param name="content" value="http://www.google.com/search?hl=en&amp;q=allinurl%3Abox+java.sun.com&amp;btnI=I%27m%20Feeling%20Lucky"><param name="text" value="<html><u></u></html>"><param name="textColor" value="blue"></object><span class="br0">&#40;</span>Vector3f.<span class="me1">ZERO</span>, <span class="nu0">1</span>, <span class="nu0">1</span>, <span class="nu0">1</span><span class="br0">&#41;</span>;
Geometry geom <span class="sy0">=</span> <span class="kw1">new</span> Geometry<span class="br0">&#40;</span><span class="st0">&quot;Box&quot;</span>, b<span class="br0">&#41;</span>;
<span class="co1">// ... insert Material definition...</span>
geom.<span class="me1">setMaterial</span><span class="br0">&#40;</span>mat<span class="br0">&#41;</span>;
rootNode.<span class="me1">attachChild</span><span class="br0">&#40;</span>geom<span class="br0">&#41;</span>;</pre>
<p>
<strong>Tip:</strong> You can find these and other common code snippets in the jMonkeyPlatform Code Palette. Drag and drop them into your source code.

</p>

</div>
<p><em><a href="http://jmonkeyengine.org/wiki/doku.php/jme3:advanced:material_definitions?do=export_xhtmlbody">view online version</a></em></p>